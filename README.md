# API чата и сообщений

Это приложение FastAPI, предоставляющее конечные точки API для управления чатами и сообщениями. Приложение использует PostgreSQL в качестве базы данных и SQLAlchemy в качестве ORM.

## Особенности

- Создавайте новые чаты с заголовками
- Отправлять сообщения в определенные чаты
- Получить чаты вместе с их сообщениями
- Удаление чатов (со всеми связанными сообщениями)
- Проверка ввода заголовков и сообщений.
- Каскадное удаление сообщений при удалении чата

## Требования

- Докер
- Docker Compose

## Настройка и запуск

1. Клонируйте этот репозиторий
2. Перейдите в каталог проекта.
3. Выполните следующую команду, чтобы запустить приложение:

``` баш
docker-compose --build
```

API будет доступен по адресу <http://localhost:8000>.

## Конечные точки API

- `POST /chats/` - Создать новый чат.
- `POST /chats/{id}/messages/` - отправить сообщение в чат.
- `GET /chats/{id}` - Получить чат и его сообщения (с параметром limit)
- `DELETE /chats/{id}` — удалить чат и все его сообщения.

## Запуск тестов

Чтобы запустить тесты:

``` баш
docker exec -it <имя-контейнера> pytest
```

Или локально после установки зависимостей:

``` баш
pip install -r требования.txt
тесты pytest/
```

## Используемые технологии

- ФастAPI
- SQLАлхимия
- PostgreSQL
- Докер и Docker Compose
- Pydantic для проверки запроса/ответа
- Pytest для тестирования
